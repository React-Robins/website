{"version":3,"file":"index.min.js","sources":["../src/index.js"],"sourcesContent":["// @flow\nimport type {\n  RegisteredCache,\n  CSSContextType,\n  ScopedInsertableStyles\n} from './types'\n\nexport const isBrowser = typeof document !== 'undefined'\nexport const shouldSerializeToReactTree =\n  !isBrowser || process.env.NODE_ENV === 'test'\n\nexport function getRegisteredStyles(\n  registered: RegisteredCache,\n  registeredStyles: string[],\n  classNames: string\n) {\n  let rawClassName = ''\n\n  classNames.split(' ').forEach(className => {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className])\n    } else {\n      rawClassName += `${className} `\n    }\n  })\n  return rawClassName\n}\n\nexport const insertStyles = (\n  context: CSSContextType,\n  insertable: ScopedInsertableStyles\n) => {\n  if (context.registered[`${context.key}-${insertable.name}`] === undefined) {\n    context.registered[`${context.key}-${insertable.name}`] = insertable.styles\n  }\n  if (context.inserted[insertable.name] === undefined) {\n    let rules = context.stylis(\n      `.${context.key}-${insertable.name}`,\n      insertable.styles\n    )\n\n    if (shouldSerializeToReactTree) {\n      context.inserted[insertable.name] = rules.join('')\n      if (context.compat === undefined) {\n        return context.inserted[insertable.name]\n      }\n    } else {\n      rules.forEach(rule => {\n        context.sheet.insert(rule)\n      })\n      context.inserted[insertable.name] = true\n    }\n  }\n}\n\nexport * from './types'\n"],"names":["registered","registeredStyles","classNames","rawClassName","split","forEach","undefined","className","push","context","insertable","key","name","styles","inserted","stylis","sheet","insert","rule"],"mappings":"oQAWO,SACLA,EACAC,EACAC,OAEIC,EAAe,YAERC,MAAM,KAAKC,QAAQ,iBACEC,IAA1BN,EAAWO,KACIC,KAAKR,EAAWO,OAEdA,QAGhBJ,kBAGmB,SAC1BM,EACAC,QAEgEJ,IAA5DG,EAAQT,WAAcS,EAAQE,QAAOD,EAAWE,UAC1CZ,WAAcS,EAAQE,QAAOD,EAAWE,MAAUF,EAAWG,aAE7BP,IAAtCG,EAAQK,SAASJ,EAAWE,QAClBH,EAAQM,WACdN,EAAQE,QAAOD,EAAWE,KAC9BF,EAAWG,QASLR,QAAQ,cACJW,MAAMC,OAAOC,OAEfJ,SAASJ,EAAWE,OAAQ"}